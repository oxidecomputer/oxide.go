// Code generated by `generate.test`. DO NOT EDIT.

// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at https://mozilla.org/MPL/2.0/.

package oxide

// DiskCreate is the type definition for a DiskCreate.
type DiskCreate struct {
	DiskSource DiskSource `json:"disk_source,omitempty" yaml:"disk_source,omitempty"`
}
// DiskIdentifier is parameters for the [`Disk`](omicron_common::api::external::Disk) to be attached or
// detached to an instance
type DiskIdentifier struct {
	Name Name `json:"name,omitempty" yaml:"name,omitempty"`
}
// DiskSourceType is the type definition for a DiskSourceType.
type DiskSourceType string
// DiskSourceSnapshot is create a disk from a disk snapshot
type DiskSourceSnapshot struct {
	SnapshotId string `json:"snapshot_id,omitempty" yaml:"snapshot_id,omitempty"`
	Type DiskSourceType `json:"type,omitempty" yaml:"type,omitempty"`
}
// DiskSourceImage is create a disk from a project image
type DiskSourceImage struct {
	ImageId string `json:"image_id,omitempty" yaml:"image_id,omitempty"`
	Type DiskSourceType `json:"type,omitempty" yaml:"type,omitempty"`
}
// DiskSource is the type definition for a DiskSource.
type DiskSource struct {
	// SnapshotId is the type definition for a SnapshotId.
	SnapshotId string `json:"snapshot_id,omitempty" yaml:"snapshot_id,omitempty"`
	// Type is the type definition for a Type.
	Type DiskSourceType `json:"type,omitempty" yaml:"type,omitempty"`
	// ImageId is the type definition for a ImageId.
	ImageId string `json:"image_id,omitempty" yaml:"image_id,omitempty"`
}
// FieldValueType is the type definition for a FieldValueType.
type FieldValueType string
// fieldValueValue is an interface for FieldValue value variants.
type fieldValueValue interface {
	isFieldValueValue()
}
// FieldValueString is the string variant of FieldValue value.
type FieldValueString struct {
	Value string `json:"value,omitempty" yaml:"value,omitempty"`
}
func (FieldValueString) isFieldValueValue() {}

// FieldValueInt is the int variant of FieldValue value.
type FieldValueInt struct {
	Value int `json:"value,omitempty" yaml:"value,omitempty"`
}
func (FieldValueInt) isFieldValueValue() {}

// FieldValueBool is the bool variant of FieldValue value.
type FieldValueBool struct {
	Value bool `json:"value,omitempty" yaml:"value,omitempty"`
}
func (FieldValueBool) isFieldValueValue() {}

// FieldValue is the `FieldValue` contains the value of a target or metric field.
type FieldValue struct {
	// Type is the type definition for a Type.
	Type FieldValueType `json:"type,omitempty" yaml:"type,omitempty"`
	// Value is the type definition for a Value.
	Value fieldValueValue `json:"value,omitempty" yaml:"value,omitempty"`
}
// UnmarshalJSON implements json.Unmarshaler for FieldValue, selecting the correct
// variant of the Value field based on the Type discriminator.
func (v *FieldValue) UnmarshalJSON(data []byte) error {
	var raw struct {
		Type  FieldValueType  `json:"type"`
		Value json.RawMessage `json:"value"`
	}
	if err := json.Unmarshal(data, &raw); err != nil {
		return err
	}
	v.Type = raw.Type
	switch raw.Type {
	case FieldValueTypeString:
		var val FieldValueString
		if err := json.Unmarshal(raw.Value, &val); err != nil {
			return err
		}
		v.Value = val
	case FieldValueTypeInt:
		var val FieldValueInt
		if err := json.Unmarshal(raw.Value, &val); err != nil {
			return err
		}
		v.Value = val
	case FieldValueTypeBool:
		var val FieldValueBool
		if err := json.Unmarshal(raw.Value, &val); err != nil {
			return err
		}
		v.Value = val
	}
	return nil
}

// DiskSourceTypeSnapshot represents the DiskSourceType `"snapshot"`.
const DiskSourceTypeSnapshot DiskSourceType = "snapshot"

// DiskSourceTypeImage represents the DiskSourceType `"image"`.
const DiskSourceTypeImage DiskSourceType = "image"

// FieldValueTypeString represents the FieldValueType `"string"`.
const FieldValueTypeString FieldValueType = "string"

// FieldValueTypeInt represents the FieldValueType `"int"`.
const FieldValueTypeInt FieldValueType = "int"

// FieldValueTypeBool represents the FieldValueType `"bool"`.
const FieldValueTypeBool FieldValueType = "bool"

// DiskSourceTypeCollection is the collection of all DiskSourceType values.
var DiskSourceTypeCollection = []DiskSourceType{
	DiskSourceTypeImage,
	DiskSourceTypeSnapshot,
}

// FieldValueTypeCollection is the collection of all FieldValueType values.
var FieldValueTypeCollection = []FieldValueType{
	FieldValueTypeBool,
	FieldValueTypeInt,
	FieldValueTypeString,
}

